"use strict";
var logger, trackCompletion, _;

_ = require('lodash');

logger = require('logmimosa');

trackCompletion = function(title, initial, cb) {
  var done, remaining;
  remaining = [].concat(initial);
  done = function(dir) {
    remaining = _.without(remaining, dir);
    if (remaining.length === 0) {
      logger.debug("calling callback for " + title);
      return cb();
    }
  };
  return done;
};

module.exports = {
  trackCompletion: trackCompletion
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYzpcXGhvbWVcXGdpdGh1YlxcbWltb3NhLWJsZXNzXFxsaWJcXHV0aWwuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjOlxcaG9tZVxcZ2l0aHViXFxtaW1vc2EtYmxlc3NcXHNyY1xcdXRpbC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBQSxDQUFBO0FBQUEsSUFBQSwwQkFBQTs7QUFBQSxDQUNBLEdBQUksT0FBQSxDQUFRLFFBQVIsQ0FESixDQUFBOztBQUFBLE1BRUEsR0FBUyxPQUFBLENBQVEsV0FBUixDQUZULENBQUE7O0FBQUEsZUFJQSxHQUFrQixTQUFDLEtBQUQsRUFBUSxPQUFSLEVBQWlCLEVBQWpCLEdBQUE7QUFDaEIsTUFBQSxlQUFBO0FBQUEsRUFBQSxTQUFBLEdBQVksRUFBRSxDQUFDLE1BQUgsQ0FBVSxPQUFWLENBQVosQ0FBQTtBQUFBLEVBQ0EsSUFBQSxHQUFPLFNBQUMsR0FBRCxHQUFBO0FBQ0wsSUFBQSxTQUFBLEdBQVksQ0FBQyxDQUFDLE9BQUYsQ0FBVSxTQUFWLEVBQXFCLEdBQXJCLENBQVosQ0FBQTtBQUNBLElBQUEsSUFBRyxTQUFTLENBQUMsTUFBVixLQUFvQixDQUF2QjtBQUNFLE1BQUEsTUFBTSxDQUFDLEtBQVAsQ0FBYyx1QkFBQSxHQUFzQixLQUFwQyxDQUFBLENBQUE7YUFDQSxFQUFBLENBQUEsRUFGRjtLQUZLO0VBQUEsQ0FEUCxDQUFBO1NBTUEsS0FQZ0I7QUFBQSxDQUpsQixDQUFBOztBQUFBLE1BYU0sQ0FBQyxPQUFQLEdBQWlCO0FBQUEsRUFBQyxpQkFBQSxlQUFEO0NBYmpCLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIlxyXG5fID0gcmVxdWlyZSAnbG9kYXNoJ1xyXG5sb2dnZXIgPSByZXF1aXJlICdsb2dtaW1vc2EnXHJcblxyXG50cmFja0NvbXBsZXRpb24gPSAodGl0bGUsIGluaXRpYWwsIGNiKSAtPlxyXG4gIHJlbWFpbmluZyA9IFtdLmNvbmNhdCBpbml0aWFsXHJcbiAgZG9uZSA9IChkaXIpIC0+XHJcbiAgICByZW1haW5pbmcgPSBfLndpdGhvdXQgcmVtYWluaW5nLCBkaXJcclxuICAgIGlmIHJlbWFpbmluZy5sZW5ndGggPT0gMFxyXG4gICAgICBsb2dnZXIuZGVidWcgXCJjYWxsaW5nIGNhbGxiYWNrIGZvciAje3RpdGxlfVwiXHJcbiAgICAgIGNiKClcclxuICBkb25lXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHt0cmFja0NvbXBsZXRpb259XHJcbiJdfQ==
