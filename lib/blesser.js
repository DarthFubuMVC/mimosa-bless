var bless, blessAll, blessCommand, blessFile, checkForBless, cleanBlessed, color, fs, gatherFiles, logger, path, printObj, trackCompletion, wrench, _, _ref;

bless = require('bless');

fs = require('fs');

path = require('path');

logger = require('logmimosa');

color = require('ansi-color').set;

_ = require('lodash');

wrench = require('wrench');

_ref = require('./util'), printObj = _ref.printObj, trackCompletion = _ref.trackCompletion;

blessFile = function(input, output, options, next) {
  if (!fs.existsSync(input)) {
    return logger.warn("mimosa-bless: bless file [[ " + input + " ]] does not exist");
  }
  logger.info("Blessing [[ " + input + " ]]");
  return fs.readFile(input, 'utf-8', function(e, data) {
    var settings;
    if (e) {
      logger.error("blessc: " + e.message);
      next();
    }
    logger.debug("finished reading file[[ " + input + " ]]");
    settings = {
      output: output,
      options: options
    };
    logger.debug("running bless parser on [[ " + input + " ]]");
    return new bless.Parser(settings).parse(data, function(err, files, numSelectors) {
      var numFiles;
      if (err) {
        logger.error("blessc: " + e.message);
        return next();
      } else {
        numFiles = files.length;
        logger.info("Source CSS file [[ " + input + " ]] contained " + numSelectors + " selectors");
        if (numFiles > 1 || input !== output) {
          _.each(files, function(file) {
            var fd;
            fd = fs.openSync(file.filename, 'w');
            return fs.writeSync(fd, file.content, 0, 'utf-8');
          });
          logger.success(" " + numFiles + " CSS files created for " + input);
        } else {
          logger.success("No changes made.");
        }
        return next();
      }
    });
  });
};

cleanBlessed = function(mimosaConfig, options, next) {
  return next();
};

checkForBless = function(mimosaConfig, options, next) {
  return next();
};

gatherFiles = function(filesFromOptions) {
  return _(filesFromOptions).map(function(entry) {
    if (fs.statSync(entry).isDirectory()) {
      return wrench.readdirSyncRecursive(entry).filter(function(f) {
        return (path.extname(f)) === ".css";
      }).map(function(f) {
        return path.join(entry, f);
      });
    } else {
      return [entry];
    }
  }).flatten().uniq().value();
};

blessAll = function(mimosaConfig, options, next) {
  var blessOnWatch, files, finish, isBuild, settings, sources, uniqueInputs;
  isBuild = mimosaConfig.isBuild;
  settings = mimosaConfig.bless.options;
  files = gatherFiles(mimosaConfig.bless.files);
  blessOnWatch = mimosaConfig.bless.blessOnWatch;
  logger.debug("bless files: " + files);
  logger.debug("blessOnWatch: " + blessOnWatch);
  logger.debug("isBuild: " + isBuild);
  if (!(blessOnWatch || isBuild)) {
    next();
    return;
  }
  logger.info("Blessing files");
  sources = _.map(files, function(value, key) {
    var input, output;
    input = _.isString(key) ? key : value;
    output = value;
    return {
      input: input,
      output: output
    };
  });
  uniqueInputs = _.map(sources, function(_arg) {
    var input, output;
    input = _arg.input, output = _arg.output;
    return input;
  });
  finish = trackCompletion("blessSources", uniqueInputs, next);
  return _.each(sources, function(_arg) {
    var input, output;
    input = _arg.input, output = _arg.output;
    return blessFile(input, output, settings, function() {
      return finish(input);
    });
  });
};

blessCommand = function(retrieveConfig) {
  return retrieveConfig(false, function(config) {
    config.isBuild = true;
    return blessAll(config, {}, (function() {}));
  });
};

module.exports = {
  blessAll: blessAll,
  checkForBless: checkForBless,
  cleanBlessed: cleanBlessed,
  blessCommand: blessCommand
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYzpcXGhvbWVcXGdpdGh1YlxcbWltb3NhLWJsZXNzXFxsaWJcXGJsZXNzZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJjOlxcaG9tZVxcZ2l0aHViXFxtaW1vc2EtYmxlc3NcXHNyY1xcYmxlc3Nlci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSx1SkFBQTs7QUFBQSxLQUFBLEdBQVEsT0FBQSxDQUFRLE9BQVIsQ0FBUixDQUFBOztBQUFBLEVBQ0EsR0FBSyxPQUFBLENBQVEsSUFBUixDQURMLENBQUE7O0FBQUEsSUFFQSxHQUFPLE9BQUEsQ0FBUSxNQUFSLENBRlAsQ0FBQTs7QUFBQSxNQUdBLEdBQVMsT0FBQSxDQUFRLFdBQVIsQ0FIVCxDQUFBOztBQUFBLEtBSUEsR0FBUSxPQUFBLENBQVEsWUFBUixDQUFxQixDQUFDLEdBSjlCLENBQUE7O0FBQUEsQ0FLQSxHQUFJLE9BQUEsQ0FBUSxRQUFSLENBTEosQ0FBQTs7QUFBQSxNQU1BLEdBQVMsT0FBQSxDQUFRLFFBQVIsQ0FOVCxDQUFBOztBQUFBLE9BTzhCLE9BQUEsQ0FBUSxRQUFSLENBQTlCLEVBQUMsZ0JBQUEsUUFBRCxFQUFXLHVCQUFBLGVBUFgsQ0FBQTs7QUFBQSxTQVNBLEdBQVksU0FBQyxLQUFELEVBQVEsTUFBUixFQUFnQixPQUFoQixFQUF5QixJQUF6QixHQUFBO0FBQ1YsRUFBQSxJQUFBLENBQUEsRUFBUyxDQUFDLFVBQUgsQ0FBYyxLQUFkLENBQVA7QUFDRSxXQUFPLE1BQU0sQ0FBQyxJQUFQLENBQWEsOEJBQUEsR0FBNkIsS0FBN0IsR0FBb0Msb0JBQWpELENBQVAsQ0FERjtHQUFBO0FBQUEsRUFHQSxNQUFNLENBQUMsSUFBUCxDQUFhLGNBQUEsR0FBYSxLQUFiLEdBQW9CLEtBQWpDLENBSEEsQ0FBQTtTQUtBLEVBQUUsQ0FBQyxRQUFILENBQVksS0FBWixFQUFtQixPQUFuQixFQUE0QixTQUFDLENBQUQsRUFBSSxJQUFKLEdBQUE7QUFDMUIsUUFB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dXJjZXNDb250ZW50IjpbImJsZXNzID0gcmVxdWlyZSAnYmxlc3MnXHJcbmZzID0gcmVxdWlyZSAnZnMnXHJcbnBhdGggPSByZXF1aXJlICdwYXRoJ1xyXG5sb2dnZXIgPSByZXF1aXJlICdsb2dtaW1vc2EnXHJcbmNvbG9yID0gcmVxdWlyZSgnYW5zaS1jb2xvcicpLnNldFxyXG5fID0gcmVxdWlyZSAnbG9kYXNoJ1xyXG53cmVuY2ggPSByZXF1aXJlICd3cmVuY2gnXHJcbntwcmludE9iaiwgdHJhY2tDb21wbGV0aW9ufSA9IHJlcXVpcmUgJy4vdXRpbCdcclxuXHJcbmJsZXNzRmlsZSA9IChpbnB1dCwgb3V0cHV0LCBvcHRpb25zLCBuZXh0KSAtPlxyXG4gIHVubGVzcyBmcy5leGlzdHNTeW5jIGlucHV0XHJcbiAgICByZXR1cm4gbG9nZ2VyLndhcm4gXCJtaW1vc2EtYmxlc3M6IGJsZXNzIGZpbGUgW1sgI3tpbnB1dH0gXV0gZG9lcyBub3QgZXhpc3RcIlxyXG5cclxuICBsb2dnZXIuaW5mbyBcIkJsZXNzaW5nIFtbICN7aW5wdXR9IF1dXCJcclxuXHJcbiAgZnMucmVhZEZpbGUgaW5wdXQsICd1dGYtOCcsIChlLCBkYXRhKSAtPlxyXG4gICAgaWYgKGUpXHJcbiAgICAgIGxvZ2dlci5lcnJvciBcImJsZXNzYzogXCIgKyBlLm1lc3NhZ2VcclxuICAgICAgbmV4dCgpXHJcblxyXG4gICAgbG9nZ2VyLmRlYnVnIFwiZmluaXNoZWQgcmVhZGluZyBmaWxlW1sgI3tpbnB1dH0gXV1cIlxyXG4gICAgc2V0dGluZ3MgPSB7b3V0cHV0LCBvcHRpb25zfVxyXG5cclxuICAgIGxvZ2dlci5kZWJ1ZyBcInJ1bm5pbmcgYmxlc3MgcGFyc2VyIG9uIFtbICN7aW5wdXR9IF1dXCJcclxuICAgIG5ldyBibGVzcy5QYXJzZXIoc2V0dGluZ3MpLnBhcnNlIGRhdGEsIChlcnIsIGZpbGVzLCBudW1TZWxlY3RvcnMpIC0+XHJcbiAgICAgIGlmIChlcnIpXHJcbiAgICAgICAgbG9nZ2VyLmVycm9yIFwiYmxlc3NjOiBcIiArIGUubWVzc2FnZVxyXG4gICAgICAgIG5leHQoKVxyXG4gICAgICBlbHNlXHJcbiAgICAgICAgbnVtRmlsZXMgPSBmaWxlcy5sZW5ndGhcclxuICAgICAgICBsb2dnZXIuaW5mbyBcIlNvdXJjZSBDU1MgZmlsZSBbWyAje2lucHV0fSBdXSBjb250YWluZWQgI3tudW1TZWxlY3RvcnN9IHNlbGVjdG9yc1wiXHJcbiAgICAgICAgaWYgKG51bUZpbGVzID4gMSB8fCBpbnB1dCAhPSBvdXRwdXQpXHJcbiAgICAgICAgICBfLmVhY2ggZmlsZXMsIChmaWxlKSAtPlxyXG4gICAgICAgICAgICBmZCA9IGZzLm9wZW5TeW5jIGZpbGUuZmlsZW5hbWUsICd3J1xyXG4gICAgICAgICAgICBmcy53cml0ZVN5bmMgZmQsIGZpbGUuY29udGVudCwgMCwgJ3V0Zi04J1xyXG5cclxuICAgICAgICAgIGxvZ2dlci5zdWNjZXNzIFwiICN7bnVtRmlsZXN9IENTUyBmaWxlcyBjcmVhdGVkIGZvciAje2lucHV0fVwiXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgbG9nZ2VyLnN1Y2Nlc3MgXCJObyBjaGFuZ2VzIG1hZGUuXCJcclxuICAgICAgICBuZXh0KClcclxuXHJcbmNsZWFuQmxlc3NlZCA9IChtaW1vc2FDb25maWcsIG9wdGlvbnMsIG5leHQpIC0+XHJcbiAgI1RPRE86IGNsZWFuIHVwIGFueSBnZW5lcmF0ZWQgYmxlc3MgZmlsZXNcclxuICBuZXh0KClcclxuXHJcbmNoZWNrRm9yQmxlc3MgPSAobWltb3NhQ29uZmlnLCBvcHRpb25zLCBuZXh0KSAtPlxyXG4gICNUT0RPOiBzdXBwb3J0IGJsZXNzaW5nIGluIHdhdGNoIG1vZGUgaWYgZmlsZXMgZ2V0IGFkZGVkXHJcbiAgbmV4dCgpXHJcblxyXG5nYXRoZXJGaWxlcyA9IChmaWxlc0Zyb21PcHRpb25zKSAtPlxyXG4gIF8gZmlsZXNGcm9tT3B0aW9uc1xyXG4gICAgLm1hcCAoZW50cnkpIC0+XHJcbiAgICAgIGlmIGZzLnN0YXRTeW5jKGVudHJ5KS5pc0RpcmVjdG9yeSgpXHJcbiAgICAgIHRoZW4gd3JlbmNoLnJlYWRkaXJTeW5jUmVjdXJzaXZlKGVudHJ5KS5maWx0ZXIgKGYpIC0+XHJcbiAgICAgICAgKHBhdGguZXh0bmFtZSBmKSA9PSBcIi5jc3NcIlxyXG4gICAgICAubWFwIChmKSAtPiBwYXRoLmpvaW4gZW50cnksIGZcclxuICAgICAgZWxzZSBbZW50cnldXHJcbiAgICAuZmxhdHRlbigpXHJcbiAgICAudW5pcSgpXHJcbiAgICAudmFsdWUoKVxyXG5cclxuYmxlc3NBbGwgPSAobWltb3NhQ29uZmlnLCBvcHRpb25zLCBuZXh0KSAtPlxyXG4gICNUT0RPOiBmb3Igc29tZSByZWFzb24gdGhpcyBnb2VzIHJlYWxseSBzbG93IGluIHdhdGNoIG1vZGVcclxuICAjd2hlbiB3b3JraW5nIHdpdGggYSBsYXJnZSBjb2RlIGJhc2UsIG5lZWQgdG8gaW52ZXN0aWdhdGVcclxuICBpc0J1aWxkID0gbWltb3NhQ29uZmlnLmlzQnVpbGRcclxuICBzZXR0aW5ncyA9IG1pbW9zYUNvbmZpZy5ibGVzcy5vcHRpb25zXHJcbiAgZmlsZXMgPSBnYXRoZXJGaWxlcyBtaW1vc2FDb25maWcuYmxlc3MuZmlsZXNcclxuXHJcbiAgYmxlc3NPbldhdGNoID0gbWltb3NhQ29uZmlnLmJsZXNzLmJsZXNzT25XYXRjaFxyXG5cclxuICBsb2dnZXIuZGVidWcgXCJibGVzcyBmaWxlczogI3tmaWxlc31cIlxyXG4gIGxvZ2dlci5kZWJ1ZyBcImJsZXNzT25XYXRjaDogI3tibGVzc09uV2F0Y2h9XCJcclxuICBsb2dnZXIuZGVidWcgXCJpc0J1aWxkOiAje2lzQnVpbGR9XCJcclxuICB1bmxlc3MgYmxlc3NPbldhdGNoIG9yIGlzQnVpbGRcclxuICAgIG5leHQoKVxyXG4gICAgcmV0dXJuXHJcblxyXG4gIGxvZ2dlci5pbmZvIFwiQmxlc3NpbmcgZmlsZXNcIlxyXG5cclxuICAjVE9ETzogc3VwcG9ydCBvdXRwdXQgcGVyIGZpbGVuYW1lIHZpYSBvYmplY3QgZW50cnkgaWYgZGVzaXJlZFxyXG4gIHNvdXJjZXMgPSBfLm1hcCBmaWxlcywgKHZhbHVlLCBrZXkpIC0+XHJcbiAgICBpbnB1dCA9IGlmIF8uaXNTdHJpbmcoa2V5KSB0aGVuIGtleSBlbHNlIHZhbHVlXHJcbiAgICBvdXRwdXQgPSB2YWx1ZVxyXG4gICAge2lucHV0LCBvdXRwdXR9XHJcblxyXG4gIHVuaXF1ZUlucHV0cyA9IF8ubWFwIHNvdXJjZXMsICh7aW5wdXQsIG91dHB1dH0pIC0+IGlucHV0XHJcblxyXG4gIGZpbmlzaCA9IHRyYWNrQ29tcGxldGlvbiBcImJsZXNzU291cmNlc1wiLCB1bmlxdWVJbnB1dHMsIG5leHRcclxuXHJcbiAgXy5lYWNoIHNvdXJjZXMsICh7aW5wdXQsIG91dHB1dH0pIC0+XHJcbiAgICBibGVzc0ZpbGUgaW5wdXQsIG91dHB1dCwgc2V0dGluZ3MsICgpIC0+IGZpbmlzaChpbnB1dClcclxuXHJcbmJsZXNzQ29tbWFuZCA9IChyZXRyaWV2ZUNvbmZpZykgLT5cclxuICByZXRyaWV2ZUNvbmZpZyBmYWxzZSwgKGNvbmZpZykgLT5cclxuICAgIGNvbmZpZy5pc0J1aWxkID0gdHJ1ZVxyXG4gICAgYmxlc3NBbGwgY29uZmlnLCB7fSwgKC0+KVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7Ymxlc3NBbGwsIGNoZWNrRm9yQmxlc3MsIGNsZWFuQmxlc3NlZCwgYmxlc3NDb21tYW5kfVxyXG4iXX0=
